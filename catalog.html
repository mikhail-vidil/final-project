<!DOCTYPE html>
<html>
    <head>
        <title>Catalog</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/styles.css">
        <link href="fonts/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">  
    </head>
    <body>

        <div class="container">

                <header class="header">
            
                    <div class="logo">
                        <div class="logo__item">Template</div>
                        <div class="login">
                            <a class="e-mail" href="">Email sign up</a>
                            <a href="shopping bag.html" class="login__shopping-bag">
                                <span class="bag"><i class="fa fa-shopping-bag"></i> Bag <span class="price"></span><span class="quantity">(0)</span></span>
                            </a>  
                        </div>
                    </div> 
                   
                    <div class="menu-wrapper">
                        <nav class="menu">
                            <ul class="menu__list">
                                <li class="menu__item"><a class="menu__link" href="">Women</a></li>
                                <li class="menu__item"><a class="menu__link" href="">Men</a></li>
                                <li class="menu__item"><a class="menu__link" href="">Handbags</a></li>
                                <li class="menu__item"><a class="menu__link" href="">Accessories</a></li>
                                <li class="menu__item"><a class="menu__link" href="">Sale</a></li>
                                <li class="menu__item"><a class="menu__link" href="">New Arrivals</a></li>
                                <li class="menu__item"><a class="menu__link" href="">Clearance</a></li>
                                <li class="menu__item"><a class="menu__link" href="">Store Locator</a></li>
                            </ul>
                        </nav>

                        <form class="search-form search-form-768px" style="position: relative;">
                            <input type="text" class="searchTerm" placeholder="Style Name">
                            <button type="submit" class="searchButton"><i class="fa fa-search"></i></button>
                        </form>
                    </div>       
                    </header>
                    
                    <header class="header-mobile" style="position: relative;"> 
                        <div class="left-column">
                            <div class="logo">
                                <div class="logo__item-mobile">TL</div>
                            </div>
                            <div class="bag">
                                <a href="shopping bag.html" class="login__shopping-bag">
                                    <span class="shopbag"><i class="fa fa-shopping-bag"></i> Bag <span class="price"></span><span class="quantity">(0)</span></span>
                                </a>
                            </div> 
                        </div>
                        <div class="right-column">
                            <div class="menu">
                                <button class="menubtn"><i class="icon-menu"></i><i class="icon-close hide"></i></button>
                                <div id="myMenu" class="menu-content">
                                  <a href="">Women</a>
                                  <a href="">Men</a>
                                  <a href="">Handbags</a>
                                  <a href="">Accessories</a>
                                  <a href="">Sale</a>
                                  <a href="">New Arrivals</a>
                                  <a href="">Clearance</a>
                                  <a href="">Store Locator</a>
                                  <form class="search-form-768px" style="position: relative;">
                                    <input type="text" class="searchTerm" placeholder="Style Name">
                                    <button type="submit" class="searchButton"><i class="fa fa-search"></i></button>
                                </form>
                                </div>
                            </div>
                        </div>      
                </header>

                    <div class="filters-wrapper" style="position: relative;">
                        <ul class="filters-nav">
                            <li class="dropdown">
                                <div class="option-fashion">Fashion</div>
                                <div class="caret-fashion"><img src="img/caret-down.png" alt="Caret"></div>
                                <a href="#" class="dropbtn">Fashion</a>
                                <div class="dropdown-content">
                                    <a href="#">Not selected</a>
                                    <a href="#">Nail the 90s</a>
                                    <a href="#">Casual style</a>
                                    <a href="#">New Look</a>
                                    <a href="#">Sport</a>
                                    <a href="#">Vintage</a>
                                    <a href="#">Classical style</a>
                                </div>
                            </li>
                            <li class="dropdown">
                                <div class="option-product-type">Product type</div>
                                <div class="caret-product-type"><img src="img/caret-down.png" alt="Caret"></div>
                                <a href="#" class="dropbtn">Product type</a>
                                <div class="dropdown-content">
                                    <a href="#">Not selected</a>
                                    <a href="#">Coats & Jackets</a>
                                    <a href="#">Dresses</a>
                                    <a href="#">Jersey Tops</a>
                                </div>
                            </li>
                            <li class="dropdown">
                                <div class="option-color">Color</div>
                                <div class="caret-color"><img src="img/caret-down.png" alt="Caret"></div>
                                <a href="#" class="dropbtn">Color</a>
                                <div class="dropdown-content">
                                    <a href="#">Not selected</a>
                                    <a href="#">Black</a>
                                    <a href="#">Blue</a>
                                    <a href="#">Red</a>
                                    <a href="#">Green</a>
                                    <a href="#">Golden</a>
                                </div>
                            </li>
                            <li class="dropdown">
                                <div class="option-brand">Brand</div>
                                <div class="caret-brand"><img src="img/caret-down.png" alt="Caret"></div>
                                <a href="#" class="dropbtn">Brand</a>
                                <div class="dropdown-content">
                                    <a href="#">Not selected</a>
                                    <a href="#">Chi Chi London</a>
                                    <a href="#">Antipodium</a>
                                    <a href="#">Adidas</a>
                                    <a href="#">New Balance</a>
                                    <a href="#">River Island</a>
                                </div>
                            </li>
                            <li class="dropdown">
                                <div class="option-size">Size</div>
                                <div class="caret-size"><img src="img/caret-down.png" alt="Caret"></div>
                                <a href="#" class="dropbtn">Size</a>
                                <div class="dropdown-content">
                                    <a href="#">Not selected</a>
                                    <a href="#">UK 2</a>
                                    <a href="#">UK 18</a>
                                    <a href="#">UK 18L</a>
                                    <a href="#">UK 20</a>
                                    <a href="#">UK 20L</a>
                                    <a href="#">UK 20S</a>
                                    <a href="#">UK 22S</a>
                                    <a href="#">UK 22</a>
                                </div>
                            </li>
                            <li class="dropdown">
                                <div class="option-price-range">Price range</div>
                                <div class="caret-price-range"><img src="img/caret-down.png" alt="Caret"></div>
                                <a href="#" class="dropbtn">Price range</a>
                                <div class="dropdown-content">
                                    <a href="#">Not selected</a>
                                    <a href="#">To £99</a>
                                    <a href="#">£100-£299</a>
                                    <a href="#">From £300</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="filters-wrapper__tablet" style="position: relative;">
                        <div class="filters-wrapper__tablet-content">
                            <span class="fashion">Fashion</span><span class="comma">,</span>
                            <span class="product">Product type</span><span class="comma">,</span>
                            <span class="color">Color</span><span class="comma">,</span>
                            <span class="brand">Brand</span><span class="comma">,</span>
                            <span class="size">Size</span><span class="comma">,</span>
                            <span class="price-range">Price range</span>
                            <div class="caret"><img src="img/caret-down.png" alt="Caret"></div>
                            <button class="close-btn hide"><i class="icon-close"></i></button>
                        </div>
                        <div class="dropdown-tablet">
                            <div id="filterTab" class="dropdown-tablet__content">
                                <div class="dropdown-tablet__content-col1">
                                    <div class="dropdown-tablet__content-col1-title">Fashion</div>
                                    <ul class="filter-nav__list">
                                        <li class="filter-nav__item default">
                                            <a class="filter-nav__link default" data-category="fashion" href="#">Not selected</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="fashion" href="#">Nail the 90s</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="fashion" href="#">Casual style</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="fashion" href="#">New Look</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="fashion" href="#">Sport</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="fashion" href="#">Vintage</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="fashion" href="#">Classical style</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="dropdown-tablet__content-col2">
                                    <div class="dropdown-tablet__content-col2-title">Product type</div>
                                    <ul class="filter-nav__list">
                                        <li class="filter-nav__item default">
                                            <a class="filter-nav__link default" data-category="product type" href="#">Not selected</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="product type" href="#">Coats & Jackets</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="product type" href="#">Dresses</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="product type" href="#">Jersey Tops</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="dropdown-tablet__content-col3">
                                    <div class="dropdown-tablet__content-col3-title">Color</div>
                                    <ul class="filter-nav__list">
                                        <li class="filter-nav__item default">
                                            <a class="filter-nav__link default" data-category="color" href="#">Not selected</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="color" href="#">Black</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="color" href="#">Blue</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="color" href="#">Red</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="color" href="#">Green</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="color" href="#">Golden</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="dropdown-tablet__content-col4">
                                    <div class="dropdown-tablet__content-col4-title">Brand</div>
                                    <ul class="filter-nav__list">
                                        <li class="filter-nav__item default">
                                            <a class="filter-nav__link default" data-category="brand" href="#">Not selected</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="brand" href="#">Chi Chi London</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="brand" href="#">Antipodium</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="brand" href="#">Adidas</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="brand" href="#">New Balance</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="brand" href="#">River Island</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="dropdown-tablet__content-col5">
                                    <div class="dropdown-tablet__content-col5-title">Size</div>
                                    <ul class="filter-nav__list">
                                        <li class="filter-nav__item default">
                                            <a class="filter-nav__link default" data-category="size" href="#">Not selected</a>
                                        </li>
                                        <li class="filter-nav__item"><a class="filter-nav__link" data-category="size" href="#">UK 2</a></li>
                                        <li class="filter-nav__item"><a class="filter-nav__link" data-category="size" href="#">UK 18</a></li>
                                        <li class="filter-nav__item"><a class="filter-nav__link" data-category="size" href="#">UK 18L</a></li>
                                        <li class="filter-nav__item"><a class="filter-nav__link" data-category="size" href="#">UK 20</a></li>
                                        <li class="filter-nav__item"><a class="filter-nav__link" data-category="size" href="#">UK 20L</a></li>
                                        <li class="filter-nav__item"><a class="filter-nav__link" data-category="size" href="#">UK 20S</a></li>
                                        <li class="filter-nav__item"><a class="filter-nav__link" data-category="size" href="#">UK 22S</a></li>
                                        <li class="filter-nav__item"><a class="filter-nav__link" data-category="size" href="#">UK 22</a></li>
                                    </ul>
                                </div>
                                <div class="dropdown-tablet__content-col6">
                                    <div class="dropdown-tablet__content-col6-title">Price range</div>
                                    <ul class="filter-nav__list">
                                        <li class="filter-nav__item default">
                                            <a class="filter-nav__link default" data-category="price range" href="#">Not selected</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="price range" href="#">To £99</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="price range" href="#">£100-£299</a>
                                        </li>
                                        <li class="filter-nav__item">
                                            <a class="filter-nav__link" data-category="price range" href="#">From £300</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="galery-arrivals-render">
                        
                    </div>
                   
                    <button id="button" class="galery-arrivals__btn">Show more</button>
                    
                    
                    <div class="bottom-banners">
                        <div class="banner__col-left" style="position: relative;">
                            
                            <img class="bottom-banners__img-left" src="img/Adidas Blue.jpg" alt="Adidas Blue"> 
                            <div class="bottom-banners__left-title-position">
                                <span class="bottom-banners__left-center-title-style">Adidas Blue</span>
                                <span class="bottom-banners__left-subtitle-style">For men</span> 
                            </div> 
                        </div>
                        <div class="banner__col-center" style="position: relative;">
                            
                            <img class="bottom-banners__img-center" src="img/Repair Patches.jpg" alt="Repair Patches"> 
                                
                            <div class="bottom-banners__center-title-position">
                                <span class="bottom-banners__left-center-title-style">Repair Patches</span>
                                <span class="bottom-banners__center-price-style">£ 150.50</span> 
                            </div> 
                        </div>
                        <div class="banner__col-right banner__col-right_none" style="position: relative;">
                            
                            <img class="bottom-banners__img-right" src="img/Sale.jpg" alt="Bag"> 
                                
                            <div class="bottom-banners__right-title-position">
                                <span class="bottom-banners__right-title-style">Sale</span>
                                <span class="bottom-banners__right-subtitle-style">-70%</span> 
                            </div> 
                        </div>
                    </div>
                    
                    <nav class="footer-nav__365px">
                            <div class="footer-nav__links">
                                    <div class="footer-nav__col1">
                                                <div class="footer-nav__title-left">Quick Links</div>
                                                    <ul class="footer-nav__list">
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">Store Locator</a></li>
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">Gift cards</a></li>
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">Size guide</a></li>
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">About us</a></li>
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">Support</a></li>
                                                    </ul>
                                    </div>
                                    <div class="footer-nav__col2">
                                                <div class="footer-nav__title-left">Customer Care</div>
                                                    <ul class="footer-nav__list">
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">Customer service</a></li>
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">Truck my order</a></li>
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">Return policy</a></li>
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">Shipping & delivery</a></li>
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">Contact us</a></li>
                                                        <li class="footer-nav__item"><a class="footer-nav__link" href="">Careers</a></li>
                                                    </ul>
                                            </div>
                            </div>
                            <div class="footer-nav__questions">
                                            <div class="footer-nav__col3">
                                                <div class="footer-nav__title-right">Questions</div>
                                                <div class="footer-nav__subtitle"><i class="fab fa-twitter"></i>Tweet us @<strong>template</strong></div>
                                            </div>
                                            <div class="footer-nav__col4">
                                                <div class="footer-nav__title-right">Order by phone</div>
                                                <div class="footer-nav__subtitle">8-800-409-47-12</div>
                                            </div>
                            </div>
                            <div class="footer-nav__site-map">
                                    <div class="footer-nav__site-map-left-col">
                                            <ul class="footer-menu__list">
                                                <li class="footer-menu__item"><a class="footer-menu__link" href="">Legal notice</a></li>
                                                <li class="footer-menu__item"><a class="footer-menu__link" href="">Privacy policy</a></li>
                                                <li class="footer-menu__item"><a class="footer-menu__link" href="">Site map</a></li>
                                            </ul>
                                    </div>
                                    
                                    <div class="footer-nav__social-385px">
                                            <div class="footer-nav__social-network"><i class="fab fa-facebook-f"></i><i class="fab fa-twitter"></i></div>
                                    </div>
                            </div>
                            <div class="footer-nav__copyright">
                                <div class="footer-nav__copyright__left-col">
                                    <div class="footer__left-title">
                                        © 2010–2015, The Template Group inc.
                                    </div>
                                </div>

                                <div class="footer-nav__copyright-right-col">
                                    <div class="footer__center-title">
                                        Share <span class="footer__center-share">1 437</span>
                                    </div>
                                </div>
                            </div>
                            
                        </nav>

                    <nav class="footer-nav">
                        <div class="footer_nav__left-side">
                            <div class="footer-nav__col1">
                                <div class="footer-nav__title-left">Quick Links</div>
                                <ul class="footer-nav__list">
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">Store Locator</a></li>
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">Gift cards</a></li>
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">Size guide</a></li>
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">About us</a></li>
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">Support</a></li>
                                </ul>
                            </div>
                        <div class="footer-nav__col2">
                                <div class="footer-nav__title-left">Customer Care</div>
                                <ul class="footer-nav__list">
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">Customer service</a></li>
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">Truck my order</a></li>
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">Return policy</a></li>
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">Shipping & delivery</a></li>
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">Contact us</a></li>
                                    <li class="footer-nav__item"><a class="footer-nav__link" href="">Careers</a></li>
                                </ul>
                            </div>
                            </div>
                        <div class="footer-nav__right-side">
                                <div class="footer-nav__col3">
                                    <div class="footer-nav__title-right">Questions</div>
                                    <div class="footer-nav__subtitle"><i class="fab fa-twitter"></i>Tweet us @<strong>template</strong></div>
                                </div>
                                <div class="footer-nav__col4">
                                    <div class="footer-nav__title-right">Order by phone</div>
                                    <div class="footer-nav__subtitle">8-800-409-47-12</div>
                                </div>
                                <div class="footer-nav__delivery-info footer-nav__delivery-info-catalog">
                                        We have our delivery service which operates in 23 major European cities. Delivery time - 3-5 days.
                                        <div class="footer-nav__social-network"><i class="fab fa-facebook-f"></i><i class="fab fa-twitter"></i></div>
                                </div>
                                <div class="footer-nav__info_768px">
                                    <div class="footer-nav__social-network"><i class="fab fa-facebook-f"></i><i class="fab fa-twitter"></i></div>
                                </div>
                        </div>
                            
                    </nav>
                    <footer class="footer">
                        <div class="footer__left-col">
                            <div class="footer__left-title">
                                © 2010–2015, The Template Group inc.
                            </div>
                        </div>
                        <div class="footer__center-col">
                            <div class="footer__center-title">
                                Share <span class="footer__center-share">1 437</span>
                            </div>
                        </div>
                        <div class="footer__right-col">
                            <ul class="footer-menu__list">
                                <li class="footer-menu__item"><a class="footer-menu__link" href="">Site map</a></li>
                                <li class="footer-menu__item"><a class="footer-menu__link" href="">Privacy policy</a></li>
                                <li class="footer-menu__item"><a class="footer-menu__link" href="">Legal notice</a></li>
                            </ul>
                        </div> 
                        </div>
                    </footer>
            

        </div>
        
        <script src="catalog.js"></script>
        <script src="js/showMenu.js"></script>
        <script>
                                    
            var arr = window.catalog;

            arrSort(arr);
            

            window.onload = function() {
                let width =  document.documentElement.clientWidth;
                if (width > 1024) {
                    render(4);
                } else if (width < 1024 && width > 768) {
                    render(3);
                } else if (width < 768 && width > 375) {
                    render(2);
                }  
            };
            
            getPrice(); 
            getQuantity();


            var galeryItem = document.querySelectorAll(".img-overlay");
            var search = document.querySelector('.searchTerm');
            var searchBtn = document.querySelector('.searchButton');
            
            searchBtn.addEventListener('click', showSearchField);


            galeryItem.forEach(function(element){

                element.addEventListener('mouseover', function(event){
                    
                    var highlight = event.target.closest('.galery-arrivals__item').lastElementChild.previousElementSibling;
                    console.log(highlight);
                    
                    highlight.classList.add('galery-arrivals__highlight-name');
                
                })

                var active = document.getElementsByClassName('galery-arrivals__highlight-name')[0];

                element.addEventListener('mouseout', function(event){
                    var highlight = event.target.closest('.galery-arrivals__item').lastElementChild.previousElementSibling;
                    highlight.classList.remove('galery-arrivals__highlight-name');
                })

            })
            
            function arrSort(arr) {
                arr.sort(function(item1, item2){
                    return Date.parse(item1.dateAdded) < Date.parse(item2.dateAdded) ? 1 : -1;
                });
            }

            window.onresize = function(event) {
                
                let _clientWidth = event.target.visualViewport.width;
                
                if (_clientWidth > 768 && _clientWidth < 1024) {
                    search.classList.add('searchTerm-disable');
                    clear();
                    clearOfferInfo();
                    //createDivTablet(); //?
                    render(3);
                } else if (_clientWidth < 768 && _clientWidth > 375) {
                    clear();
                    clearOfferInfo();
                    //createDivTablet();
                    render(2);
                } else if (_clientWidth > 1024) {
                    clear();
                    clearOfferInfo();
                    //createDiv();
                    render(4);
                }

            };

            function render(n) {
               
               //var newFlex = document.getElementsByClassName("galery-arrivals-render")[0];
               var newFlex = document.getElementsByClassName("galery-arrivals-render")[0];
               var count = 0;
               var revArr =  arr.slice(0, n).reverse();
               
                for (var i = 0; i < revArr.length; i++) {
 
                    /*if (count == n) {
                          newFlex.insertAdjacentHTML('afterend',
                          `<div class="offer-info">
                        <div class="offer-info__wrapper">
                            <span class="offer-info__title">
                                Last weekend <span class="offer-info__highlight">extra 50%</span> off on all reduced boots and shoulder bags
                            </span>
                            <span class="offer-info__subtitle">
                                This offer is valid in-store and online.
                                Prices displayed reflect this additional discount.
                                This offer ends at 11:59 GMT on March 1st 2019
                            </span>
                        </div>
                        </div>`);
                        break;
                    }*/
                        
                      if (revArr[i].hasNew === true && (revArr[i].discountedPrice === revArr[i].price || revArr[i].discountedPrice === null)) {
                          newFlex.insertAdjacentHTML('afterbegin',
                      `<div class="galery-arrivals-render__item">   
                          <div class="img-overlay" style="position: relative;">
                              <a href="item.html" class="galery-offer__link">
                                  <div class="galery-arrivals__item-overlay"></div>
                                  <div class="label-offer">NEW</div>
                                  <img src="${revArr[i].thumbnail}"
                                  class="galery-offer__image">
                                  <div class="galery-arrivals__item-details">
                                      <h3 class="galery-arrivals__item-details-title">View item</h3>
                                  </div>
                              </a>
                          </div>
                          <div class="galery-offer-render__name">${revArr[i].title}</div>
                          <div class="galery-offer__price">£${revArr[i].price.toFixed(2)}</div>
                      </div>`);
                      } else if (revArr[i].hasNew === true && revArr[i].discountedPrice !== revArr[i].price) {
                          newFlex.insertAdjacentHTML('afterbegin',
                      `<div class="galery-arrivals-render__item">   
                          <div class="img-overlay" style="position: relative;">
                              <a href="item.html" class="galery-offer__link">
                                  <div class="galery-arrivals__item-overlay"></div>
                                  <div class="label-offer">NEW</div>
                                  <img src="${revArr[i].thumbnail}"
                                  class="galery-offer__image">
                                  <div class="galery-arrivals__item-details">
                                      <h3 class="galery-arrivals__item-details-title">View item</h3>
                                  </div>
                              </a>
                          </div>
                          <div class="galery-offer-render__name">${revArr[i].title}</div>
                          <div class="galery-offer__old-catalog-price">
                               <del>£${revArr[i].price.toFixed(2)}</del><span class="galery-offer__price galery-offer__price-shift">£${revArr[i].discountedPrice.toFixed(2)}</span>
                           </div>
                      </div>`);
                      } else if (revArr[i].hasNew !== true && (revArr[i].discountedPrice === revArr[i].price || revArr[i].discountedPrice === null)) {
                          newFlex.insertAdjacentHTML('afterbegin',
                      `<div class="galery-arrivals-render__item">   
                          <div class="img-overlay" style="position: relative;">
                              <a href="item.html" class="galery-offer__link">
                                  <div class="galery-arrivals__item-overlay"></div>
                                  <img src="${revArr[i].thumbnail}"
                                  class="galery-offer__image">
                                  <div class="galery-arrivals__item-details">
                                      <h3 class="galery-arrivals__item-details-title">View item</h3>
                                  </div>
                              </a>
                          </div>
                          <div class="galery-offer-render__name">${revArr[i].title}</div>
                          <div class="galery-offer__price">£${revArr[i].price.toFixed(2)}</div>
                      </div>`);
                      } else if (revArr[i].hasNew !== true && revArr[i].discountedPrice !== revArr[i].price) {
                          newFlex.insertAdjacentHTML('afterbegin',
                      `<div class="galery-arrivals-render__item">   
                          <div class="img-overlay" style="position: relative;">
                              <a href="item.html" class="galery-offer__link">
                                  <div class="galery-arrivals__item-overlay"></div>
                                  <img src="${revArr[i].thumbnail}"
                                  class="galery-offer__image">
                                  <div class="galery-arrivals__item-details">
                                      <h3 class="galery-arrivals__item-details-title">View item</h3>
                                  </div>
                              </a>
                          </div>
                          <div class="galery-offer-render__name">${revArr[i].title}</div>
                          <div class="galery-offer__old-catalog-price">
                               <del>£${revArr[i].price.toFixed(2)}</del><span class="galery-offer__price galery-offer__price-shift">£${revArr[i].discountedPrice.toFixed(2)}</span>
                           </div>
                      </div>`);
                      }
                      
                    count++;    
                }

                newFlex.insertAdjacentHTML('afterend',
                          `<div class="offer-info">
                        <div class="offer-info__wrapper">
                            <span class="offer-info__title">
                                Last weekend <span class="offer-info__highlight">extra 50%</span> off on all reduced boots and shoulder bags
                            </span>
                            <span class="offer-info__subtitle">
                                This offer is valid in-store and online.
                                Prices displayed reflect this additional discount.
                                This offer ends at 11:59 GMT on March 1st 2019
                            </span>
                        </div>
                        </div>`);

                var promo = document.getElementsByClassName("offer-info")[0];
                promo.insertAdjacentHTML('afterend', `<div class="galery-arrivals-render"></div>`);
                var newRender = document.getElementsByClassName("galery-arrivals-render")[1];
                revArr = arr.slice(n, 12).reverse();
                for (var i = 0; i < revArr.length; i++) {
                    
                    if (revArr[i].hasNew === true && (revArr[i].discountedPrice === revArr[i].price || revArr[i].discountedPrice === null)) {
                        newRender.insertAdjacentHTML('afterbegin',
                    `<div class="galery-arrivals-render__item">   
                        <div class="img-overlay" style="position: relative;">
                            <a href="item.html" class="galery-offer__link">
                                <div class="galery-arrivals__item-overlay"></div>
                                <div class="label-offer">NEW</div>
                                <img src="${revArr[i].thumbnail}"
                                class="galery-offer__image">
                                <div class="galery-arrivals__item-details">
                                    <h3 class="galery-arrivals__item-details-title">View item</h3>
                                </div>
                            </a>
                        </div>
                        <div class="galery-offer-render__name">${revArr[i].title}</div>
                        <div class="galery-offer__price">£${revArr[i].price.toFixed(2)}</div>
                    </div>`);
                    } else if (revArr[i].hasNew === true && revArr[i].discountedPrice !== revArr[i].price) {
                        newRender.insertAdjacentHTML('afterbegin',
                    `<div class="galery-arrivals-render__item">   
                        <div class="img-overlay" style="position: relative;">
                            <a href="item.html" class="galery-offer__link">
                                <div class="galery-arrivals__item-overlay"></div>
                                <div class="label-offer">NEW</div>
                                <img src="${revArr[i].thumbnail}"
                                class="galery-offer__image">
                                <div class="galery-arrivals__item-details">
                                    <h3 class="galery-arrivals__item-details-title">View item</h3>
                                </div>
                            </a>
                        </div>
                        <div class="galery-offer-render__name">${revArr[i].title}</div>
                        <div class="galery-offer__old-catalog-price">
                            <del>£${revArr[i].price.toFixed(2)}</del><span class="galery-offer__price galery-offer__price-shift">£${revArr[i].discountedPrice.toFixed(2)}</span>
                        </div>
                    </div>`);
                    } else if (revArr[i].hasNew !== true && (revArr[i].discountedPrice === revArr[i].price || revArr[i].discountedPrice === null)) {
                        newRender.insertAdjacentHTML('afterbegin',
                    `<div class="galery-arrivals-render__item">   
                        <div class="img-overlay" style="position: relative;">
                            <a href="item.html" class="galery-offer__link">
                                <div class="galery-arrivals__item-overlay"></div>
                                <img src="${revArr[i].thumbnail}"
                                class="galery-offer__image">
                                <div class="galery-arrivals__item-details">
                                    <h3 class="galery-arrivals__item-details-title">View item</h3>
                                </div>
                            </a>
                        </div>
                        <div class="galery-offer-render__name">${revArr[i].title}</div>
                        <div class="galery-offer__price">£${revArr[i].price.toFixed(2)}</div>
                    </div>`);
                    } else if (revArr[i].hasNew !== true && revArr[i].discountedPrice !== revArr[i].price) {
                        newRender.insertAdjacentHTML('afterbegin',
                    `<div class="galery-arrivals-render__item">   
                        <div class="img-overlay" style="position: relative;">
                            <a href="item.html" class="galery-offer__link">
                                <div class="galery-arrivals__item-overlay"></div>
                                <img src="${revArr[i].thumbnail}"
                                class="galery-offer__image">
                                <div class="galery-arrivals__item-details">
                                    <h3 class="galery-arrivals__item-details-title">View item</h3>
                                </div>
                            </a>
                        </div>
                        <div class="galery-offer-render__name">${revArr[i].title}</div>
                        <div class="galery-offer__old-catalog-price">
                            <del>£${revArr[i].price.toFixed(2)}</del><span class="galery-offer__price galery-offer__price-shift">£${revArr[i].discountedPrice.toFixed(2)}</span>
                        </div>
                    </div>`);
                    }
                    
                    
                    }

                  highlightName();
                    
            }
              
            
            var btn = document.getElementsByClassName("galery-arrivals__btn")[0];
            btn.addEventListener('click', showGoods);

            var cnt = 0;
            function showGoods() {
                
                var _clientWidth = visualViewport.width;
                var n;

                if (_clientWidth > 1024) {
                    n = 4;
                } else if (_clientWidth < 1024) {
                    n = 3;
                }

                var start = 12 + n * cnt;
                var end = start + n;
                
                var addGoods = arr.slice(start, end);

                //var addGoods = arrRev; //arr.slice(start, end);

                
                var newRender = document.getElementsByClassName("galery-arrivals-render")[1];
                
                for (var i = 0; i < addGoods.length; i++) {

                        if (addGoods[i].hasNew === true && (addGoods[i].discountedPrice === addGoods[i].price || addGoods[i].discountedPrice === null)) {
                            newRender.insertAdjacentHTML('beforeend',
                        `<div class="galery-arrivals-render__item">   
                            <div class="img-overlay" style="position: relative;">
                                <a href="item.html" class="galery-offer__link">
                                    <div class="galery-arrivals__item-overlay"></div>
                                    <div class="label-offer">NEW</div>
                                    <img src="${addGoods[i].thumbnail}"
                                    class="galery-offer__image">
                                    <div class="galery-arrivals__item-details">
                                        <h3 class="galery-arrivals__item-details-title">View item</h3>
                                    </div>
                                </a>
                            </div>
                            <div class="galery-offer-render__name">${addGoods[i].title}</div>
                            <div class="galery-offer__price">£${addGoods[i].price.toFixed(2)}</div>
                        </div>`);
                        } else if (addGoods[i].hasNew === true && addGoods[i].discountedPrice !== addGoods[i].price) {
                            newRender.insertAdjacentHTML('beforeend',
                        `<div class="galery-arrivals-render__item">   
                            <div class="img-overlay" style="position: relative;">
                                <a href="item.html" class="galery-offer__link">
                                    <div class="galery-arrivals__item-overlay"></div>
                                    <div class="label-offer">NEW</div>
                                    <img src="${addGoods[i].thumbnail}"
                                    class="galery-offer__image">
                                    <div class="galery-arrivals__item-details">
                                        <h3 class="galery-arrivals__item-details-title">View item</h3>
                                    </div>
                                </a>
                            </div>
                            <div class="galery-offer-render__name">${addGoods[i].title}</div>
                            <div class="galery-offer__old-catalog-price">
                                <del>£${addGoods[i].price.toFixed(2)}</del><span class="galery-offer__price galery-offer__price-shift">£${addGoods[i].discountedPrice.toFixed(2)}</span>
                            </div>
                        </div>`);
                        } else if (addGoods[i].hasNew !== true && (addGoods[i].discountedPrice === addGoods[i].price || addGoods[i].discountedPrice === null)) {
                            newRender.insertAdjacentHTML('beforeend',
                        `<div class="galery-arrivals-render__item">   
                            <div class="img-overlay" style="position: relative;">
                                <a href="item.html" class="galery-offer__link">
                                    <div class="galery-arrivals__item-overlay"></div>
                                    <img src="${addGoods[i].thumbnail}"
                                    class="galery-offer__image">
                                    <div class="galery-arrivals__item-details">
                                        <h3 class="galery-arrivals__item-details-title">View item</h3>
                                    </div>
                                </a>
                            </div>
                            <div class="galery-offer-render__name">${addGoods[i].title}</div>
                            <div class="galery-offer__price">£${addGoods[i].price.toFixed(2)}</div>
                        </div>`);
                        } else if (addGoods[i].hasNew !== true && addGoods[i].discountedPrice !== addGoods[i].price) {
                            newRender.insertAdjacentHTML('beforeend',
                        `<div class="galery-arrivals-render__item">   
                            <div class="img-overlay" style="position: relative;">
                                <a href="item.html" class="galery-offer__link">
                                    <div class="galery-arrivals__item-overlay"></div>
                                    <img src="${addGoods[i].thumbnail}"
                                    class="galery-offer__image">
                                    <div class="galery-arrivals__item-details">
                                        <h3 class="galery-arrivals__item-details-title">View item</h3>
                                    </div>
                                </a>
                            </div>
                            <div class="galery-offer-render__name">${addGoods[i].title}</div>
                            <div class="galery-offer__old-catalog-price">
                                <del>£${addGoods[i].price.toFixed(2)}</del><span class="galery-offer__price galery-offer__price-shift">£${addGoods[i].discountedPrice.toFixed(2)}</span>
                            </div>
                        </div>`);
                        }


                        }

                        highlightName();
                        cnt = cnt + 1; 
            }
              
            function highlightName() {
   
               var galeryItem = document.querySelectorAll(".img-overlay");
                   
                galeryItem.forEach(function(element){
   
                    element.addEventListener('mouseover', function(event){
                           
                        var highlight = event.target.closest('.galery-arrivals-render__item').lastElementChild.previousElementSibling;
                        highlight.classList.add('galery-arrivals__highlight-name');
                       
                    })
   
                    var active = document.getElementsByClassName('galery-arrivals__highlight-name')[0];
   
                    element.addEventListener('mouseout', function(event){
                        var highlight = event.target.closest('.galery-arrivals-render__item').lastElementChild.previousElementSibling;
                        highlight.classList.remove('galery-arrivals__highlight-name');
                    })

                })
            }

            var clickFilterOption = document.querySelectorAll('.dropdown-content');
            var dropdownHover = document.querySelectorAll('.dropdown');
            var dropdownContentHover = document.querySelectorAll('.dropdown-content');
            
            function clear() {
                var check = document.querySelector(".galery-arrivals-render");
                
                if (check) {
                    check.remove();
                }
            }

            function clearOfferInfo() {
                var offerInfo = document.querySelector(".offer-info");
                if (offerInfo) {
                    offerInfo.remove();
                }
            }

            dropdownHover.forEach(function(element){
                element.addEventListener('mouseover', function (event) {
                   var state = event.target.parentElement.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling;
                   state.setAttribute('id', 'dropdown-show');
                })
            })
            
            dropdownContentHover.forEach(function(element){
                element.addEventListener('mouseover', function (event) {
                   var state = event.target.parentElement;
                   state.setAttribute('id', 'dropdown-show');
                })
            })

            dropdownContentHover.forEach(function(element){
                element.addEventListener('mouseout', function (event) {
                   var state = event.target.parentElement;
                   state.removeAttribute('id', 'dropdown-show');
                })
            })

            dropdownHover.forEach(function(element){
                element.addEventListener('mouseout', function (event) {
                   var state = event.target.parentElement.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling;
                   state.removeAttribute('id', 'dropdown-show');
                })
            })

            clickFilterOption.forEach(function(element){
                element.addEventListener('click', function(event){
                    var option = event.target.innerText;
                    var dropdown = event.target.closest('.dropdown');
                    var filterName = event.target.parentElement.parentElement.firstElementChild;
                    filterName.setAttribute('id', 'option-show');
                    console.log(filterName);
                    
                    dropdown.classList.add('active');
                    
                    event.target.closest('.dropdown').firstElementChild.nextElementSibling.nextElementSibling.innerText = option;
                    dropdown.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling.removeAttribute('id', 'dropdown-show');
                    
                })
            })
            

            function getPrice() {
                let price = document.getElementsByClassName('price')[0];
                let priceMobile = document.getElementsByClassName('price')[1];
                let currentPrice = localStorage.getItem('price');
                currentPrice = JSON.parse(currentPrice);
                if (currentPrice != null) {
                  price.innerText = `£${currentPrice.toFixed(2)}`;
                  priceMobile.innerText = `£${currentPrice.toFixed(2)}`;  
                } 
            }

            function getQuantity() { 
                let quantity = document.getElementsByClassName('quantity')[0];
                let quantityMobile = document.getElementsByClassName('quantity')[1];
                let currentQuantity = localStorage.getItem('quantity');
                currentQuantity = JSON.parse(currentQuantity);
                if (currentQuantity != null) {
                    quantity.innerText = `(${currentQuantity})`;
                    quantityMobile.innerText = `(${currentQuantity})`;
                }
            }

            function showSearchField() {
                search.classList.remove('searchTerm-disable');
            }
            
            function createDiv() {
                let _clientWidth = event.target.visualViewport.width;
                let div = document.getElementsByClassName("filters-wrapper")[0];
                div.insertAdjacentHTML('afterend','<div class="galery-arrivals-render"></div>');
                let el = document.getElementsByClassName("galery-arrivals-render")[1];
                el.remove();
            }

            function createDivTablet() {
                let _clientWidth = event.target.visualViewport.width;
                let divTablet = document.getElementsByClassName("filters-wrapper__tablet")[0];
                console.log(divTablet);
                divTablet.insertAdjacentHTML('afterend','<div class="galery-arrivals-render"></div>');
                let el = document.getElementsByClassName("galery-arrivals-render")[1];
                el.remove();
            }

            let button = document.getElementsByClassName('menubtn')[0];
            let iconMenu = document.getElementsByClassName('icon-menu')[0];
            let iconClose = document.getElementsByClassName('icon-close')[0];
            let filterOpen = document.getElementsByClassName('filters-wrapper__tablet')[0];
            let show = document.getElementsByClassName('dropdown-tablet__content')[0];
            let filterClose = document.getElementsByClassName('close-btn')[0];
            let fashion = document.getElementsByClassName('fashion')[0];
            let product = document.getElementsByClassName('product')[0];
            let color = document.getElementsByClassName('color')[0];
            let brand = document.getElementsByClassName('brand')[0];
            let size = document.getElementsByClassName('size')[0];
            let priceRange = document.getElementsByClassName('price-range')[0];
            let arrNames = [];

            button.addEventListener('click', function(){

                document.getElementById("myMenu").classList.toggle("show");
                
                let active = iconMenu;
                let passive = iconClose;
                
                if(active.closest('.hide') == null) {
                  active.classList.add('hide');
                  passive.classList.remove('hide'); 
                } else if (passive.closest('.hide') == null) {
                  active.classList.remove('hide');
                  passive.classList.add('hide');
                } 
            });
            
            function openFilter() {
                show.classList.add('dropdown-tablet__content-show');
                filterClose.classList.remove('hide');
            }

            function closeFilter() {
                show.classList.remove('dropdown-tablet__content-show');
                filterClose.classList.add('hide');
                event.stopPropagation();
            }

            filterOpen.addEventListener('click', openFilter);
            filterClose.addEventListener('click', closeFilter);

            let links = document.querySelectorAll('.filter-nav__link');

            /*function highlight(category) {
                links.forEach((link) => {
                    
                })
            }

            links.forEach((link) => {
                link.addEventListener('click', () => {
                    console.log(link.dataset.category);
                })
            })*/

            show.addEventListener('click', function(event){
                let link = event.target;
                let list = link.parentElement;
                let defaultList = event.target.parentElement.parentElement.firstElementChild;
                let defaultLink = defaultList.firstElementChild;
                let name = link.innerText;
                let active = document.querySelectorAll('.click');
                let linkGroupName = link.parentElement.parentElement.parentElement.firstElementChild.innerText;
                
                
                for (let i = 0; i < arrNames.length; i++) {
                    if(arrNames[i] != arrNames[i+1] && arrNames[i] == arrNames[i+1]) {
                            active[active.length - 1].classList.remove('click');
                            active[active.length - 2].classList.remove('click');
                            
                    } else if (arrNames[i] == arrNames[i+1]) {
                        active[active.length - 1].classList.remove('click');
                        active[active.length - 2].classList.remove('click');
                        arrNames.pop();
                         
                    }
                }
                 
                

                link.classList.add('click');
                list.classList.add('click');
                defaultList.classList.remove('default');
                defaultLink.classList.remove('default');
                

                if(link.closest('.dropdown-tablet__content-col1')) {
                    fashion.classList.add('click');
                    fashion.innerText = name;
                } else if (link.closest('.dropdown-tablet__content-col2')) {
                    product.classList.add('click');
                    product.innerText = name;
                } else if (link.closest('.dropdown-tablet__content-col3')) {
                    color.classList.add('click');
                    color.innerText = name;
                } else if (link.closest('.dropdown-tablet__content-col4')) {
                    brand.classList.add('click');
                    brand.innerText = name;
                } else if (link.closest('.dropdown-tablet__content-col5')) {
                    size.classList.add('click');
                    size.innerText = name;
                } else if (link.closest('.dropdown-tablet__content-col6')) {
                    priceRange.classList.add('click');
                    priceRange.innerText = name;
                }
                
            });
            
        </script>
    </body>
</html>